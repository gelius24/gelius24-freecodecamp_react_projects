{"ast":null,"code":"import _slicedToArray from\"C:/Users/geliu/Desktop/FreeCodeCamp_Challenges/drum-machine/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from\"react\";import{Context}from'./ContextApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Touche(_ref){var note=_ref.note,on=_ref.on,id=_ref.id,volume=_ref.volume;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var _useContext=useContext(Context),_useContext2=_slicedToArray(_useContext,2),sound=_useContext2[0],setSound=_useContext2[1];var playSound=function playSound(){if(on){var audioTag=document.getElementById(note.keyTrigger);setActive(true);setSound(id);setTimeout(function(){return setActive(false);},200);audioTag.currentTime=0;audioTag.volume=volume;audioTag.play();}else{alert(\"Allumer la machine !\");}};var handleKeyPress=function handleKeyPress(e){if(e.keyCode===note.keyCode){playSound();}};useEffect(function(){document.addEventListener(\"keydown\",handleKeyPress);return function(){document.removeEventListener(\"keydown\",handleKeyPress);};},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{onClick:playSound,id:id,className:\"\".concat(active&&'active',\" drum-pad\"),children:[note.keyTrigger,/*#__PURE__*/_jsx(\"audio\",{src:note.url,className:\"clip\",id:note.keyTrigger})]})});}export default Touche;","map":{"version":3,"sources":["C:/Users/geliu/Desktop/FreeCodeCamp_Challenges/drum-machine/src/Touche.js"],"names":["React","useEffect","useState","useContext","Context","Touche","note","on","id","volume","active","setActive","sound","setSound","playSound","audioTag","document","getElementById","keyTrigger","setTimeout","currentTime","play","alert","handleKeyPress","e","keyCode","addEventListener","removeEventListener","url"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,OAAQC,OAAR,KAAsB,cAAtB,C,wFAEA,QAASC,CAAAA,MAAT,MAAwC,IAAvBC,CAAAA,IAAuB,MAAvBA,IAAuB,CAAjBC,EAAiB,MAAjBA,EAAiB,CAAbC,EAAa,MAAbA,EAAa,CAATC,MAAS,MAATA,MAAS,eACVP,QAAQ,CAAC,KAAD,CADE,wCAC/BQ,MAD+B,eACvBC,SADuB,+BAEZR,UAAU,CAACC,OAAD,CAFE,4CAE/BQ,KAF+B,iBAExBC,QAFwB,iBAItC,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIP,EAAJ,CAAQ,CACN,GAAMQ,CAAAA,QAAQ,CAAGC,QAAQ,CAACC,cAAT,CAAwBX,IAAI,CAACY,UAA7B,CAAjB,CACAP,SAAS,CAAC,IAAD,CAAT,CACAE,QAAQ,CAACL,EAAD,CAAR,CACAW,UAAU,CAAC,iBAAMR,CAAAA,SAAS,CAAC,KAAD,CAAf,EAAD,CAAyB,GAAzB,CAAV,CACAI,QAAQ,CAACK,WAAT,CAAuB,CAAvB,CACAL,QAAQ,CAACN,MAAT,CAAkBA,MAAlB,CACAM,QAAQ,CAACM,IAAT,GACD,CARD,IAQO,CACLC,KAAK,CAAC,sBAAD,CAAL,CACD,CACF,CAZD,CAcA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAO,CAC5B,GAAIA,CAAC,CAACC,OAAF,GAAcnB,IAAI,CAACmB,OAAvB,CAAgC,CAC9BX,SAAS,GACV,CACF,CAJD,CAMAb,SAAS,CAAC,UAAM,CACde,QAAQ,CAACU,gBAAT,CAA0B,SAA1B,CAAqCH,cAArC,EACA,MAAO,WAAM,CACXP,QAAQ,CAACW,mBAAT,CAA6B,SAA7B,CAAwCJ,cAAxC,EACD,CAFD,CAGD,CALQ,CAKN,EALM,CAAT,CAOA,mBACE,kCACE,WAAG,OAAO,CAAET,SAAZ,CAAwB,EAAE,CAAEN,EAA5B,CAAgC,SAAS,WAAKE,MAAM,EAAI,QAAf,aAAzC,WACGJ,IAAI,CAACY,UADR,cAEE,cAAO,GAAG,CAAEZ,IAAI,CAACsB,GAAjB,CAAsB,SAAS,CAAC,MAAhC,CAAuC,EAAE,CAAEtB,IAAI,CAACY,UAAhD,EAFF,GADF,EADF,CAQD,CAGD,cAAeb,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport {Context} from './ContextApi'\r\n\r\nfunction Touche({note, on, id, volume}) {\r\n  const [active, setActive] = useState(false)\r\n  const [sound, setSound] = useContext(Context)\r\n\r\n  const playSound = () => {\r\n    if (on) {\r\n      const audioTag = document.getElementById(note.keyTrigger)\r\n      setActive(true);\r\n      setSound(id)\r\n      setTimeout(() => setActive(false), 200);\r\n      audioTag.currentTime = 0;\r\n      audioTag.volume = volume\r\n      audioTag.play();\r\n    } else {\r\n      alert(\"Allumer la machine !\")\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.keyCode === note.keyCode) {\r\n      playSound();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyPress);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleKeyPress);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <p onClick={playSound}  id={id} className={`${active && 'active'} drum-pad`}>\r\n        {note.keyTrigger}\r\n        <audio src={note.url} className=\"clip\" id={note.keyTrigger}></audio>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Touche;\r\n"]},"metadata":{},"sourceType":"module"}